{{!-- assets/javascripts/discourse/templates/market-my.hbs --}}
<div class="dk-market-page">
  <h1 class="market-title">My Items</h1>

  {{#if @model.length}}
    {{#each @model as |group|}}
      <section class="market-section">
        <h2 class="market-section-title">{{group.category}}</h2>

        <div class="market-grid">
          {{#each group.items as |item|}}
            <article class="market-card">
              <div class="market-media">
                {{#if item.image_url}}
                  <img class="market-thumb" src={{item.image_url}} alt={{item.name}} loading="lazy" />
                {{else}}
                  <img
                    class="market-thumb"
                    src={{get-url "/images/no_image.png"}}
                    alt="No Image"
                    loading="lazy"
                  />
                {{/if}}
              </div>

              <div class="market-info">
                <h3 class="market-name">{{item.name}}</h3>

                <button class="btn use-btn" {{on "click" (fn this.toggleUse item)}}>
                  {{if item.is_used "UNEQUIP" "EQUIP"}}
                </button>
              </div>
            </article>
          {{/each}}
        </div>
      </section>
    {{/each}}
  {{else}}
    <p class="market-empty">보유한 아이템이 없습니다.</p>
  {{/if}}
</div>
